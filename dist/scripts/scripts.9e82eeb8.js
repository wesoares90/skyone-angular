"use strict";angular.module("testeSkyoneApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","bw.paging","ngTouch"]).config(["$routeProvider","$locationProvider","$httpProvider",function(a,b,c){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).otherwise({redirectTo:"/"}),b.html5Mode(!0),b.hashPrefix("!"),c.defaults.withCredentials=!0}]),angular.module("testeSkyoneApp").controller("MainCtrl",["TableMethods","settings",function(a,b){var c=this;c.listView=b.listView(),c.limitPage=b.limitView(null),c.currentPage=1,c.photoList=[],c.getDataTable=function(){var b="_page="+c.currentPage;a.query({limit:c.limitPage,page:b},function(a){c.photoList=a})},c.newDataTable=function(b){var c={url:b.newUrl.$modelValue,title:b.newTitle.$modelValue};a["new"](c,function(a){a.$resolved&&(b.newUrl.$modelValue="")})},c.updateDataTable=function(d,e,f){var g=b.normalizeData(d);a.update({update:e},g,function(a){a.$resolved&&(c.photoList[f].title=a.title,c.photoList[f].url=a.url)})},c.removeDataTable=function(b,d){a.remove({"delete":b.id},function(a){a.$resolved&&c.photoList.splice(d,1)})},c.controlPage=function(a){c.currentPage=a,c.getDataTable()},c.viewMore=function(a){c.limitPage=b.limitView(a),c.getDataTable()},c.init=function(){c.getDataTable()},c.init()}]),angular.module("testeSkyoneApp").service("settings",["$filter",function(a){var b=this;b.listView=function(){var a=[20,40,80,100,200,300,400,500];return a},b.limitView=function(b){var c=a("limitPage")(b);return c},b.normalizeData=function(a){var b={title:a.iTitle.$modelValue,url:a.iUrl.$modelValue};return b}}]),angular.module("testeSkyoneApp").filter("limitPage",function(){return function(a){var b="&_limit=";return b+=null===a?20:a}}),angular.module("testeSkyoneApp").factory("TableMethods",["$resource",function(a){return a("http://localhost:3000/photos/:delete/:update/?:page:limit",{},{query:{method:"GET",isArray:!0,limit:"@limit",page:"@page"},remove:{method:"DELETE","delete":"@delete"},update:{method:"PUT",uptade:"@update"},"new":{method:"POST"}})}]),angular.module("testeSkyoneApp").run(["$templateCache",function(a){a.put("views/content.html",'<div class="content-wrapper"> <div class="container-fluid"> <div ng-include="\'views/table.html\'"></div> </div> </div>'),a.put("views/main.html","<div ng-include=\"'views/navbar.html'\"></div> <div ng-include=\"'views/content.html'\"></div>"),a.put("views/modal.html",'<!-- Remove Modal--> <div class="modal fade" id="modal-remove-{{photo.id}}" tabindex="-1" role="dialog" aria-labelledby="modal-remove-{{photo.id}}" aria-hidden="true"> <div class="modal-dialog" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title" id="modal-remove-{{photo.id}}">remove information</h5> <button class="close" type="button" data-dismiss="modal" aria-label="Close"> <span aria-hidden="true">×</span> </button> </div> <div class="modal-body">Are you sure you want to exclude this data?</div> <div class="modal-footer"> <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button> <button class="btn btn-primary" type="button" data-dismiss="modal" ng-click="main.removeDataTable(photo, $index)">Confirm</button> </div> </div> </div> </div> <!-- edit Modal--> <div class="modal fade" id="modal-edit-{{photo.id}}" tabindex="-1" role="dialog" aria-labelledby="modal-edit-{{photo.id}}" aria-hidden="true"> <div class="modal-dialog" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title" id="modal-edit-{{photo.id}}">Update information</h5> <button class="close" type="button" data-dismiss="modal" aria-label="Close"> <span aria-hidden="true">×</span> </button> </div> <div class="modal-body"> <form name="formUpdate" novalidate> <div class="form-group"> <label>Title</label> <input type="text" class="form-control" name="iTitle" ng-model="iTitle" ng-init="iTitle = photo.title" required ng-class="!formUpdate.iTitle.$valid ? \'is-invalid\' : \'is-valid\'"> <div ng-class="!formUpdate.iTitle.$valid ? \'invalid-feedback\' : \'\'" ng-show="!formUpdate.iTitle.$valid"> Please type a Title. </div> </div> <div class="form-group"> <label>Url</label> <input type="text" class="form-control" name="iUrl" ng-model="iUrl" ng-init="iUrl = photo.url" ng-class="!formUpdate.iUrl.$valid ? \'is-invalid\' : \'is-valid\'" required> <div ng-class="!formUpdate.iUrl.$valid ? \'invalid-feedback\' : \'\'" ng-show="!formUpdate.iUrl.$valid"> Please type a Url. </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button> <button class="btn btn-primary" ng-disabled="!formUpdate.iUrl.$valid || !formUpdate.iTitle.$valid" type="button" data-dismiss="modal" ng-click="main.updateDataTable(formUpdate, photo.id, $index)">Confirm</button> </div> </div> </div> </div> <!-- new Modal--> <div class="modal fade" id="modal-new" tabindex="-1" role="dialog" aria-labelledby="modal-new" aria-hidden="true"> <div class="modal-dialog" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title" id="modal-new">New information</h5> <button class="close" type="button" data-dismiss="modal" aria-label="Close"> <span aria-hidden="true">×</span> </button> </div> <div class="modal-body"> <form name="form" novalidate> <div class="form-group"> <label>Title</label> <input id="titleInput" type="text" class="form-control" name="newTitle" ng-model="newTitle" ng-class="!form.newTitle.$valid ? \'is-invalid\' : \'is-valid\'" required> <div ng-class="!form.newTitle.$valid ? \'invalid-feedback\' : \'\'" ng-show="!form.newTitle.$valid"> Please type a Title. </div> </div> <div class="form-group"> <label>Url</label> <input id="urlInput" type="text" class="form-control" name="newUrl" ng-model="newUrl" ng-class="!form.newUrl.$valid ? \'is-invalid\' : \'is-valid\'" required> <div ng-class="!form.newUrl.$valid ? \'invalid-feedback\' : \'\'" ng-show="!form.newUrl.$valid"> Please type a Url. </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button> <button class="btn btn-primary" id="confirmBtn" ng-disabled="!form.newUrl.$valid || !form.newTitle.$valid" type="button" data-dismiss="modal" ng-click="main.newDataTable(form)">Confirm</button> </div> </div> </div> </div>'),a.put("views/navbar.html",'<!-- Navigation--> <div ng-class="navToggler ? \'sidenav-toggled\' : \'\'"> <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top" id="mainNav"> <a class="navbar-brand" href="#">Skyone - Front-end test</a> <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <div class="collapse navbar-collapse" id="navbarResponsive"> <ul class="navbar-nav navbar-sidenav" id="exampleAccordion"> <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Dashboard"> <a class="nav-link" href="#"> <i class="fa fa-fw fa-dashboard"></i> <span class="nav-link-text">Dashboard</span> </a> </li> <li class="nav-item"> <a class="nav-link" href="#"> <i class="fa fa-fw fa-area-chart"></i> <span class="nav-link-text">Charts</span> </a> </li> <li class="nav-item"> <a class="nav-link" href="#"> <i class="fa fa-fw fa-table"></i> <span class="nav-link-text">Tables</span> </a> </li> <li class="nav-item"> <a class="nav-link nav-link-collapse" href="#"> <i class="fa fa-fw fa-wrench"></i> <span class="nav-link-text">Components</span> </a> </li> <li class="nav-item"> <a class="nav-link nav-link-collapse"> <i class="fa fa-fw fa-file"></i> <span class="nav-link-text">Example Pages</span> </a> </li> <li class="nav-item"> <a class="nav-link nav-link-collapse"> <i class="fa fa-fw fa-sitemap"></i> <span class="nav-link-text">Menu Levels</span> </a> </li> <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Link"> <a class="nav-link" href="#"> <i class="fa fa-fw fa-link"></i> <span class="nav-link-text">Link</span> </a> </li> </ul> <ul class="navbar-nav sidenav-toggler"> <li class="nav-item"> <a class="nav-link text-center" id="sidenavToggler" ng-click="navToggler = !navToggler"> <i class="fa fa-fw fa-angle-left"></i> </a> </li> </ul> <ul class="navbar-nav ml-auto"> <li class="nav-item"> <a class="nav-link mr-lg-2" href="#"> <i class="fa fa-envelope"></i> </a> </li> <li class="nav-item"> <a class="nav-link mr-lg-2" href="#"> <i class="fa fa-fw fa-bell"></i> </a> </li> <li class="nav-item"> <form class="form-inline my-2 my-lg-0 mr-lg-2"> <div class="input-group"> <input class="form-control" type="text" placeholder="Search for..."> <span class="input-group-append"> <button class="btn btn-primary" type="button"> <i class="fa fa-search"></i> </button> </span> </div> </form> </li> <li class="nav-item"> <a class="nav-link"> <i class="fa fa-fw fa-sign-out"></i>Logout</a> </li> </ul> </div> </nav> </div>'),a.put("views/table.html",'<div class="container-fluid"> <!-- Example DataTables Card--> <div class="card mb-3"> <div class="card-header"> <i class="fa fa-table"></i> Data Table Example <button class="btn btn-primary new-photo" data-toggle="modal" data-target="#modal-new" type="button"><i class="fa fa-edit" aria-hidden="true" id="newPhoto"></i> New photo</button> </div> <div class="card-body"> <div class="table-responsive"> <div class="container-fluid"> <div class="row controls"> <div class="col-md-9 input-group"> <div class="input-group-prepend"> <span class="input-group-text" id="basic-addon1">Search:</span> </div> <input type="search" id="search" class="form-control" ng-model="searchFish"> </div> <div class="col-md-3 input-group"> <div class="input-group-prepend"> <span class="input-group-text" id="basic-addon1">Limit:</span> </div> <select class="form-control" ng-model="limitView" ng-change="main.viewMore(limitView)" ng-init="limitView=main.listView[0]" ng-options="x for x in main.listView"> </select> </div> </div> <div class="row"> <div class="col-md-12"> <table class="table table-bordered" id="dataTable" cellspacing="0"> <thead> <tr> <th> <a href="#" ng-click="sortType = \'id\'; sortReverse = !sortReverse"> Id </a> </th> <th> <a href="#" ng-click="sortType = \'title\'; sortReverse = !sortReverse"> Title </a> </th> <th> <a href="#" ng-click="sortType = \'url\'; sortReverse = !sortReverse"> Url </a> </th> <th> <a href="#"> Option </a> </th> </tr> </thead> <tbody> <tr ng-repeat="photo in main.photoList | orderBy:sortType:sortReverse | filter:searchFish  | limitTo:main.pageSize"> <td>{{photo.id}}</td> <td>{{photo.title}}</td> <td>{{photo.url}}</td> <td> <div class="btn-group"> <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <i class="fa fa-cog" aria-hidden="true"></i> <span class="caret"></span> </button> <ul class="dropdown-menu"> <li> <a href="#" data-toggle="modal" data-target="#modal-edit-{{photo.id}}"><i class="fa fa-edit" aria-hidden="true"></i>Editar</a> </li> <li> <a href="#" data-toggle="modal" data-target="#modal-remove-{{photo.id}}"><i class="fa fa-trash" aria-hidden="true"></i>Remover</a> </li> </ul> </div> <div ng-include="\'views/modal.html\'"></div> </td> </tr> </tbody> </table> <div class="text-center"> <paging page="1" page-size="limitView" total="5000" text-first="first" text-last="last" text-next="next" text-prev="prev" paging-action="main.controlPage(page)" text-title-first="First hover" text-title-last="Last hover" text-title-next="Next hover" text-title-prev="Prev hover" show-prev-next="true" show-first-last="true"> </paging> </div> </div> </div> </div> </div> </div> </div> </div>')}]);